<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,shrink-to-fit=no">
    <title>用户注册界面</title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/signin.css}" rel="stylesheet">
    <script th:src="@{/js/jquery-1.11.1.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>

	</head>
<body class="text-center" style="background-image: url(images/background.png);background-size: cover;     ">
<!--  用户注册form表单 -->
<form class="form-signin" role="form" method="Post" th:action="@{/regist}" >
    <h1 class="h3 mb-3 font-weight-normal"  >请注册</h1>
         <input type="text"  id="image" name="image" 
         style="height: 50px;position: relative;margin-bottom: 5px; ">  
  <a class="btn btn-primary " data-toggle="modal" data-target="#myModal"
   style="height: 44px">
	上传头像
</a>  
    <input type="text" class="form-control" required  placeholder="用户名" pattern="[a-zA-Z0-9]{4~6}"  name="name" id="name" style="margin-bottom: 5px"  />
    <input type="password" class="form-control" required  placeholder="密码" pattern="[a-zA-Z0-9]{4~6}"  name="password" id="password" style="margin-bottom: 5px"/>
    <input type="email" class="form-control" required placeholder="邮箱格式：xxxx@qq.com" id="email"  name="email"  style="margin-bottom: 5px"/>
    <span style="font-size: large;">
      已有账号？<a href="userlogin" style="color: red">登录</a> </span>
    <button class="btn btn-lg btn-primary btn-block" id="submit" type="submit" th:onclick="'javascript:tishi()'" >注册</button>
</form>
<!-- 模态框（Modal） -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="myModalLabel">上传头像</h4>
				</div>
				<div class="modal-body">
					<input type="file" id="upload" class="file text-center"
						data-show-preview="false" name="file">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">提交</button>
					<!-- <button type="button" class="btn btn-primary">提交更改</button> -->
				</div>
			</div>
			<!-- /.modal-content -->
		</div>
		<!-- /.modal -->
	</div>

</body>
<script type="text/javascript" th:src="@{/js/foundation-datepicker.js}"></script>
<script th:src="@{/js/initFileInput.js}"></script>
<script type="text/javascript" th:src="@{/js/fileinput.js}"></script>
<script type="text/javascript" th:src="@{/js/locales/foundation-datepicker.zh-CN.js}"></script>
<script type="text/javascript" th:src="@{/js/zh.js}"></script>
<script type="text/javascript">
//初始化单个按钮上传组件
/* $("#upload").fileinput({
    language: 'zh',
    //showCaption: false,
    dropZoneEnabled: false,
    uploadUrl: '/uploadFile'
});
 */

initFileInput("upload", "/uploadFile");
$("#upload").on("fileuploaded", function(event, data, previewId, index) {
	$('#image').val(data.response.fileName);
});
$(document).ready(function(){
	$("#submit").click(function(){
		var u=document.getElementById("name");
		if(u.validity.valueMissing==true){
			u.setCustomValidity("用户名不能为空");
		}
		else{
			u.setCustomValidity("");
		}
		
		
		
	})
})


</script>
</html>
